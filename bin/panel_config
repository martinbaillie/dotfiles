#!/bin/sh
BASEDIR="$(dirname $(readlink -f $0))"

# Fonts
FONT1="Tewi-9"
FONT2="GohuFont-8"
FONT3="Lemon-9"
ICON="-wuncon-siji-medium-r-normal--10-100-75-75-c-80-iso10646-1"

# Current base16 theme
BG_DEF="$(grep background ~/.base16_xresources|cut -d: -f2|sed -e 's/^[[:space:]]*//')"
export BG="$(grep -E define\.$BG_DEF ~/.base16_xresources|cut -d' ' -f3)"

FG_DEF="$(grep foreground ~/.base16_xresources|cut -d: -f2|sed -e 's/^[[:space:]]*//')"
export FG="$(grep -E define\.$FG_DEF ~/.base16_xresources|cut -d' ' -f3)"

NBLK_DEF="$(grep color0 ~/.base16_xresources|cut -d: -f2|sed -e 's/^[[:space:]]*//')"
export NBLK="$(grep -E "#define.$NBLK_DEF" ~/.base16_xresources|cut -d' ' -f3|sed -e 's/^[[:space:]]*//')"
BBLK_DEF="$(grep color8 ~/.base16_xresources|cut -d: -f2|sed -e 's/^[[:space:]]*//')"
export BBLK="$(grep -E "#define.$BBLK_DEF" ~/.base16_xresources|cut -d' ' -f3|sed -e 's/^[[:space:]]*//')"

NRED_DEF="$(grep "color1\b" ~/.base16_xresources|cut -d: -f2|sed -e 's/^[[:space:]]*//')"
export NRED="$(grep -E "#define.$NRED_DEF" ~/.base16_xresources|cut -d' ' -f3|sed -e 's/^[[:space:]]*//')"
BRED_DEF="$(grep color9 ~/.base16_xresources|cut -d: -f2|sed -e 's/^[[:space:]]*//')"
export BRED="$(grep -E "#define.$BRED_DEF" ~/.base16_xresources|cut -d' ' -f3|sed -e 's/^[[:space:]]*//')"

NGRN_DEF="$(grep "color2\b" ~/.base16_xresources|cut -d: -f2|sed -e 's/^[[:space:]]*//')"
export NGRN="$(grep -E "#define.$NGRN_DEF" ~/.base16_xresources|cut -d' ' -f3|sed -e 's/^[[:space:]]*//')"
BGRN_DEF="$(grep color10 ~/.base16_xresources|cut -d: -f2|sed -e 's/^[[:space:]]*//')"
export BGRN="$(grep -E "#define.$BGRN_DEF" ~/.base16_xresources|cut -d' ' -f3|sed -e 's/^[[:space:]]*//')"

NYEL_DEF="$(grep color3 ~/.base16_xresources|cut -d: -f2|sed -e 's/^[[:space:]]*//')"
export NYEL="$(grep -E "#define.$NYEL_DEF" ~/.base16_xresources|cut -d' ' -f3|sed -e 's/^[[:space:]]*//')"
BYEL_DEF="$(grep color11 ~/.base16_xresources|cut -d: -f2|sed -e 's/^[[:space:]]*//')"
export BYEL="$(grep -E "#define.$BYEL_DEF" ~/.base16_xresources|cut -d' ' -f3|sed -e 's/^[[:space:]]*//')"

NBLU_DEF="$(grep color4 ~/.base16_xresources|cut -d: -f2|sed -e 's/^[[:space:]]*//')"
export NBLU="$(grep -E "#define.$NBLU_DEF" ~/.base16_xresources|cut -d' ' -f3|sed -e 's/^[[:space:]]*//')"
BBLU_DEF="$(grep color12 ~/.base16_xresources|cut -d: -f2|sed -e 's/^[[:space:]]*//')"
export BBLU="$(grep -E "#define.$BBLU_DEF" ~/.base16_xresources|cut -d' ' -f3|sed -e 's/^[[:space:]]*//')"

NMAG_DEF="$(grep color5 ~/.base16_xresources|cut -d: -f2|sed -e 's/^[[:space:]]*//')"
export NMAG="$(grep -E "#define.$NMAG_DEF" ~/.base16_xresources|cut -d' ' -f3|sed -e 's/^[[:space:]]*//')"
BMAG_DEF="$(grep color13 ~/.base16_xresources|cut -d: -f2|sed -e 's/^[[:space:]]*//')"
export BMAG="$(grep -E "#define.$BMAG_DEF" ~/.base16_xresources|cut -d' ' -f3|sed -e 's/^[[:space:]]*//')"

NCYA_DEF="$(grep color6 ~/.base16_xresources|cut -d: -f2|sed -e 's/^[[:space:]]*//')"
export NCYA="$(grep -E "#define.$NCYA_DEF" ~/.base16_xresources|cut -d' ' -f3|sed -e 's/^[[:space:]]*//')"
BCYA_DEF="$(grep color14 ~/.base16_xresources|cut -d: -f2|sed -e 's/^[[:space:]]*//')"
export BCYA="$(grep -E "#define.$BCYA_DEF" ~/.base16_xresources|cut -d' ' -f3|sed -e 's/^[[:space:]]*//')"

NWHT_DEF="$(grep color7 ~/.base16_xresources|cut -d: -f2|sed -e 's/^[[:space:]]*//')"
export NWHT="$(grep -E "#define.$NWHT_DEF" ~/.base16_xresources|cut -d' ' -f3|sed -e 's/^[[:space:]]*//')"
BWHT_DEF="$(grep color15 ~/.base16_xresources|cut -d: -f2|sed -e 's/^[[:space:]]*//')"
export BWHT="$(grep -E "#define.$BWHT_DEF" ~/.base16_xresources|cut -d' ' -f3|sed -e 's/^[[:space:]]*//')"

# Workspace colours
ACTIVE="%{U#FF${NGRN:1}}"
URGENT="%{U#ff${NRED:1}}"
OCCUPIED="%{U#FF${NYEL:1}}"
INACTIVE="%{U#FF${FG:1}}"
