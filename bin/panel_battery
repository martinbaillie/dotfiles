#!/bin/sh
BAT_STATS=$(acpi --battery 2>/dev/null | cut -d' ' -f3 | sed 's/,//')
if [ "$BAT_STATS" == "" ] || [ "$BAT_STATS" == "Full" ]
then
    echo "%{F\$NGRN} %{F-}AC"
elif [ "$BAT_STATS" == "Charging" ]
then
    echo "%{F\$NCYA} %{F-}"$(acpi --battery | cut -d' ' -f4 | sed 's/%,//')"%+"
elif [ "$BAT_STATS" == "Discharging" ]
then
    CHARGE="$(acpi --battery | cut -d' ' -f4 | sed 's/%,//')"
    if [[ "$CHARGE" -gt 50 ]]; then
        echo "%{F\$NCYA} %{F-}"$CHARGE"%-"
    elif [[ "$CHARGE" -gt 20 ]]; then
        echo "%{F\$NYEL} %{F-}"$CHARGE"%-"
    else
        echo "%{F\$NRED} %{F-}"$CHARGE"%-"
    fi
else
  echo "%{F\$NGRN}Refreshing...%{F-}"
fi
